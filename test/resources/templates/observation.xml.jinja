      <Observation>
        <id value="{{ observation_uuid }}" />
        <meta>
          <profile value="https://fhir.hl7.org.uk/STU3/StructureDefinition/CareConnect-Observation-1" />
        </meta>
        <identifier>
          <system value="https://tools.ietf.org/html/rfc4122" />
          <value value="{{ observation_identifier }}" />
        </identifier>
        <status value="{{ status }}" />
        <category>
          <coding>
            <system value="http://snomed.info/sct" />
            <code value="394595002" />
            <display value="Pathology (qualifier value)" />
          </coding>
        </category>
        <code>
          <coding>
            <system value="http://snomed.info/sct" />
            <code value="{{ code }}" />
            <display value="{{ display }}" />
          </coding>
        </code>
        <subject>
          <reference value="urn:uuid:{{ patient_uuid }}" />
          <display value="{{ patient_display }}" />
        </subject>
        <!--Test performed date/time. Not in EdiFACT examples. Check spec-->
        <effectiveDateTime value="{{ effective_datetime }}" />
        <performer>
          <reference value="urn:uuid:{{ performer_uuid }}" />
          <display value="{{ performer_display }}" />
        </performer>
        Boolean | Range | Ratio | SampledData | Attachment | Time | dateTime | Period        
        {% if quantity %}
        <valueQuantity>
          <value value="{{ quantity.value }}" />
          <unit value="{{ quantity.unit }}" />
        </valueQuantity>
        {% endif %}
        {% if codeable %}
        <valueCodeableConcept>
            <coding>
                <system value="{{ codeable.system }}" />
                <code value="{{ codeable.code }}" />
                <display value="{{ codeable.display }}" />
            </coding>
        </valueCodeableConcept>
        {% endif %}
        {% if string %}
        <valueString value="{{ string.value }}"/>
        {% endif %}
        {% if boolean %}
        <valueBoolean value="{{ boolean.value }}"/>
        {% endif %}
        {% if range %}
        <valueRange>
            <low>
              <value value="range.low.value" />
              <unit value="range.low.unit" />
            </low>
            <high>
              <value value="range.high.value" />
              <unit value="range.high.unit" />
            </high>
        </valueRange>        
        {% endif %}
        {% if ratio %}
        <valueRatio>
            <numerator>
              <value value="numerator.value" />
            </numerator>
            <denominator>
              <value value="denominator.value" />
            </denominator>
           </valueRatio>        
        {% endif %}
        {% if sampled %}
        <valueSampledData>
            <origin>
             <value value="{{ sample.origin.value }}"/>
             <unit value="{{ sample.origin.unit}}"/>
             <system value="{{ sample.origin.system}}"/>
             <code value="{{ sample.origin.code }}"/>
            </origin>
            <period value="{{ sample.period }}"/>
            <factor value="{{ sample.factor }}"/>
            <dimensions value="{{ sampled.dimensions }}"/>
            <data value="{{ sampled.data }}"/>
        </valueSampledData>        
        {% endif %}
        {% if attachement %}
        <valueAttachement>
            <contentType value="{{ attachment.content_type }}" />
            <language value="{{ attachment.language }}" />
            <data value="{{ attachment.data }}" /> <!-- covers many lines -->
            <title value="{{ attachment.title }}" />
        </valueAttachement>        
        {% endif %}
        {% if time %}
        <valueTime value="time.value" />
        {% endif %}
        {% if datetime %}
        <valueDateTime value="datetime.value" />
        {% endif %}
        {% if period %}
        <valuePeriod>
            <start value="period.start"/>
            <end value="period.end"/>
        </valuePeriod>
        {% endif %}
       <specimen>
          <reference value="urn:uuid:{{ specimen_uuid }}" />
        </specimen>
        {% if reference %}
        <referenceRange>
          <low>
            <value value="{{ reference.low_reference }}" />
          </low>
          <high>
            <value value="{{ reference.high_reference }}" />
          </high>
        </referenceRange>
        {% endif %}
        {% for related_uuid in related_uuids %}
        <related>
            <target>
                <reference value="urn:uuid:{{ realted_uuid }}"/>
            </target>
        </related>
        {% endfor %}
      </Observation>